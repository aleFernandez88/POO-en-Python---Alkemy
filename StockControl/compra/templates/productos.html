{% extends 'main.html' %}
{% block content %}
<div class="container-fluid w-75">

    {% if messages %}

    {% for message in messages %}
    <div class="alert alert-success">
        {{ message }}
    </div>
    {% endfor %}

    {% endif %}

    <h1 class="text-center">Productos</h1>

    <form class="w-50 shadow mx-auto p-4 m-3" method="post" action="{% url 'agregarProducto' %}">
        {% csrf_token %}
        <div class="mb-3">
            <label for="exampleInputText" class="form-label">Nombre</label>
            <input name="nombre" type="text" class="form-control" id="exampleInputEmail1" required>
        </div>
        <div class="mb-3">
            <label for="exampleInputText" class="form-label">Precio</label>
            <input name="precio" type="number" class="form-control" required>
        </div>
        <div class="mb-3">
            <label for="exampleInputText" class="form-label">Stock</label>
            <input name="stock_actual" type="number" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
    <table class="table table-light ">
        <tr class="table-dark">
            <th>Nombre</th>
            <th>Precio</th>
            <th>Stock</th>
            <th colspan="2">
            </th>
        </tr>
        {% for producto in productos %}
        <tr>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.precio }}</td>
            <td>{{ producto.stock }}</td>
            <td>
                <form action="{% url 'eliminarProducto' producto.id %}"
                    onClick="return confirm('Esta seguro de eliminar este producto?')">
                    {% csrf_token %}
                    <button class="btn btn-danger">
                        <i class="fa fa-trash"></i>
                    </button>
                </form>
            </td>
            <td>
                <form action="{% url 'editarProducto' producto.id %}">
                    {% csrf_token %}
                    <button class="btn btn-warning">
                        <i class="fa fa-edit"></i>
                    </button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}